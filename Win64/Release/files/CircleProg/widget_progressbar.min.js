"use strict";!function(t){function i(t){this.init(t)}i.prototype={icon:"",title:"title",caption:"caption",devide:5,bgcolor:"#eee",clrborder:"#d2d0d0",clrstart:"#72c926",clrend:"#87de38",position:10,fill:!1,thik:5,tfontsize:35,cfontsize:15,tfntname:"tahoma",cfntname:"arial",tfntcolor:"#556b2f",cfntcolor:"#eee",tclass:"",cclass:"",animate:!0,constructor:i,width:0,height:0,p_width:0,p_height:0,oThik:10,cX:0,cY:0,animate_finish:!1,tdText:null,getTitle:function(){return this.title},setTitle:function(i){this.title=i,t(this.tdText).html(this.title+'<br/><font color="'+this.cfntcolor+'">'+this.caption+"</font>")},getCaption:function(){return this.caption},setCaption:function(i){this.caption=i,t(this.tdText).html(this.title+'<br/><font color="'+this.cfntcolor+'">'+this.caption+"</font>")},init:function(i){var e=this;t.extend(this,i),this.initWidget(),t.event.special.debouncedresize.threshold=250,t(window).bind("debouncedresize",function(){e.animate_finish=!0,e.el.empty(),e.oThik=e.thik,e.width=e.el.parent().width(),e.height=e.el.parent().height(),e.drawBackground()})},initWidget:function(){this.animate_finish=!1,this.oThik=this.thik,this.width=this.el.parent().width(),this.height=this.el.parent().height(),this.drawBackground()},drawBackground:function(){var i=.89*this.height,e=.65*this.height,s=1*this.height,r=.245*this.height,n=t("<div></div>").appendTo(this.el)[0],o=t('<table border="0"></table>').appendTo(n)[0],a=t("<tr></tr>").appendTo(o).get(0),d=t("<td></td>").appendTo(a).get(0),c=t("<td></td>").appendTo(a).get(0),h=t("<td></td>").appendTo(a).get(0);t(n).css({width:(this.width-2).toString()+"px"}).css({height:(this.height-2).toString()+"px"}).css({"background-color":this.bgcolor}).css({border:"1px solid "+this.clrborder}).css({"border-radius":"5px"}),t(o).css({width:this.width.toString()+"px"}).css({height:this.height.toString()+"px"}).css({"vertical-align":"middle"}).css({position:"relative"}).css({font:"14px Tahoma, Helvetica, sans-serif"}).css({"font-weight":"normal"}).css({"text-align":"center"}).css({"border-spacing":"0"}).css({"border-collapse":"collapse"}),t(d).css({"text-align":"center"}).css({"vertical-align":"middle"}).css({width:i.toString()+"px"}),t(c).css({width:s.toString()+"px"}).css({"font-size":r.toString()+"px"}).css({color:this.tfntcolor});t('<img src="'+this.icon+'" style="height:'+e.toString()+'px;margin:auto;"/>').appendTo(d).get(0);t(c).html(this.title+'<br/><font color="'+this.cfntcolor+'">'+this.caption+"</font>"),this.tdText=c,this.drawBar(h)},drawBar:function(i){var e=.85*t(i).width(),s=.4*t(i).height(),r=this.position/100*e;console.log("brBGWidth:"+e+" ,brProgressWidth:"+r);var n=t("<div></div>").appendTo(i)[0];t(n).css({width:e.toString()+"px"}).css({height:s.toString()+"px"}).css({border:"1px solid #aeadad"}).css({"border-radius":"5px"}).css({margin:"auto"}).css({overflow:"hidden"}).css({position:"relative"}).css({background:"-webkit-linear-gradient(#bebebe, #d5d5d5)"}).css({background:"-o-linear-gradient(#bebebe, #d5d5d5)"}).css({background:"-moz-linear-gradient(#bebebe, #d5d5d5)"}).css({background:"linear-gradient(#bebebe, #d5d5d5)"});var o=t("<div></div>").appendTo(n)[0];t(o).css({width:"0px"}).css({height:s.toString()+"px"}).css({border:"1px solid #aeadad"}).css({"border-top-left-radius":"5px"}).css({"border-bottom-left-radius":"5px"}).css({position:"relative"}).css({top:"-1px"}).css({left:"-1px"}).css({background:"-moz-linear-gradient(top,"+this.clrend+" 0%,"+this.clrend+" 50%, "+this.clrstart+" 52%, "+this.clrstart+" 100%)"}).css({background:"-webkit-linear-gradient(top,"+this.clrend+" 0%,"+this.clrend+" 50%,"+this.clrstart+" 52%,"+this.clrstart+" 100%)"}).css({background:"linear-gradient(to bottom,"+this.clrend+" 0%,"+this.clrend+" 50%,"+this.clrstart+" 52%,"+this.clrstart+" 100%)"}).css({filter:'progid:DXImageTransform.Microsoft.gradient( startColorstr="'+this.clrend+'", endColorstr="'+this.clrstart+'",GradientType=0 )'}),!this.animate_finish&&this.animate?t(o).animate({width:r.toString()+"px"},{duration:1e3,easing:"swing"}):t(o).css({width:r.toString()+"px"});for(var a=0;a<this.devide;a++){var d=t("<div></div>").appendTo(n)[0];t(d).css({width:"1px"}).css({height:s.toString()+"px"}).css({"background-color":"#fff"}).css({position:"absolute"}).css({top:"0px"}).css({left:(a*(e/this.devide)+e/this.devide).toString()+"px"}).css({opacity:"0.25"})}}},t.ProgressBar={defaults:i.prototype},t.fn.ProgressBar=function(e,s){var r="circle-progress",n=this.data(r);if("widget"==e){if(!n)throw Error('Calling "widget" method on not initialized instance is forbidden');return n.canvas}if("title"==e){if(!n)throw Error('Calling "title" method on not initialized instance is forbidden');if("undefined"==typeof s)return n.getTitle();var o=arguments[1];return this.each(function(){t(this).data(r).setTitle(o)})}if("caption"==e){if(!n)throw Error('Calling "caption" method on not initialized instance is forbidden');if("undefined"==typeof s)return n.getCaption();var o=arguments[1];return this.each(function(){t(this).data(r).setCaption(o)})}return this.each(function(){var s=t(this),n=s.data(r),o=t.isPlainObject(e)?e:{};if(n)n.init(o);else{var a=t.extend({},s.data());"string"==typeof a.fill&&(a.fill=JSON.parse(a.fill)),o=t.extend(a,o),o.el=s,n=new i(o),s.data(r,n)}})}}(jQuery);